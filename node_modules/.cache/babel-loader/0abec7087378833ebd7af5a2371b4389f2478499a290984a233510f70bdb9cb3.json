{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const MapWithAdvancedMarker=_ref=>{let{lat,lng,apiKey}=_ref;const mapRef=useRef(null);const mapInstance=useRef(null);const markerInstance=useRef(null);useEffect(()=>{if(!lat||!lng||!apiKey){console.log(\"Missing lat, lng, or API key\");return;}if(!window.google){console.log(\"Loading Google Maps script...\");const script=document.createElement(\"script\");script.src=\"https://maps.googleapis.com/maps/api/js?key=\".concat(apiKey);script.async=true;script.defer=true;script.onload=()=>{console.log(\"Google Maps script loaded\");initMap();};script.onerror=()=>{console.error(\"Failed to load Google Maps script\");};document.head.appendChild(script);}else{console.log(\"Google Maps already loaded\");initMap();}function initMap(){const location={lat:Number(lat),lng:Number(lng)};console.log(\"Initializing map at\",location);if(!mapInstance.current){mapInstance.current=new window.google.maps.Map(mapRef.current,{center:location,zoom:12});}else{mapInstance.current.setCenter(location);}if(markerInstance.current){markerInstance.current.setMap(null);}if(window.google.maps.marker&&window.google.maps.marker.AdvancedMarkerElement){markerInstance.current=new window.google.maps.marker.AdvancedMarkerElement({position:location,map:mapInstance.current});console.log(\"AdvancedMarkerElement created\");}else{console.warn(\"AdvancedMarkerElement not available, falling back to Marker\");markerInstance.current=new window.google.maps.Marker({position:location,map:mapInstance.current});}}},[lat,lng,apiKey]);return/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{width:\"300px\",height:\"200px\",border:\"1px solid black\"}});};export default MapWithAdvancedMarker;","map":{"version":3,"names":["React","useEffect","useRef","jsx","_jsx","MapWithAdvancedMarker","_ref","lat","lng","apiKey","mapRef","mapInstance","markerInstance","console","log","window","google","script","document","createElement","src","concat","async","defer","onload","initMap","onerror","error","head","appendChild","location","Number","current","maps","Map","center","zoom","setCenter","setMap","marker","AdvancedMarkerElement","position","map","warn","Marker","ref","style","width","height","border"],"sources":["C:/Users/rajub/OneDrive/Documents/Projects/frontend/src/Components/MyMapComponent.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\n\r\nconst MapWithAdvancedMarker = ({ lat, lng, apiKey }) => {\r\n  const mapRef = useRef(null);\r\n  const mapInstance = useRef(null);\r\n  const markerInstance = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!lat || !lng || !apiKey) {\r\n      console.log(\"Missing lat, lng, or API key\");\r\n      return;\r\n    }\r\n\r\n    if (!window.google) {\r\n      console.log(\"Loading Google Maps script...\");\r\n      const script = document.createElement(\"script\");\r\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}`;\r\n      script.async = true;\r\n      script.defer = true;\r\n      script.onload = () => {\r\n        console.log(\"Google Maps script loaded\");\r\n        initMap();\r\n      };\r\n      script.onerror = () => {\r\n        console.error(\"Failed to load Google Maps script\");\r\n      };\r\n      document.head.appendChild(script);\r\n    } else {\r\n      console.log(\"Google Maps already loaded\");\r\n      initMap();\r\n    }\r\n\r\n    function initMap() {\r\n      const location = { lat: Number(lat), lng: Number(lng) };\r\n      console.log(\"Initializing map at\", location);\r\n\r\n      if (!mapInstance.current) {\r\n        mapInstance.current = new window.google.maps.Map(mapRef.current, {\r\n          center: location,\r\n          zoom: 12,\r\n        });\r\n      } else {\r\n        mapInstance.current.setCenter(location);\r\n      }\r\n\r\n      if (markerInstance.current) {\r\n        markerInstance.current.setMap(null);\r\n      }\r\n\r\n      if (window.google.maps.marker && window.google.maps.marker.AdvancedMarkerElement) {\r\n        markerInstance.current = new window.google.maps.marker.AdvancedMarkerElement({\r\n          position: location,\r\n          map: mapInstance.current,\r\n        });\r\n        console.log(\"AdvancedMarkerElement created\");\r\n      } else {\r\n        console.warn(\"AdvancedMarkerElement not available, falling back to Marker\");\r\n        markerInstance.current = new window.google.maps.Marker({\r\n          position: location,\r\n          map: mapInstance.current,\r\n        });\r\n      }\r\n    }\r\n  }, [lat, lng, apiKey]);\r\n\r\n  return (\r\n    <div\r\n      ref={mapRef}\r\n      style={{ width: \"300px\", height: \"200px\", border: \"1px solid black\" }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default MapWithAdvancedMarker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}