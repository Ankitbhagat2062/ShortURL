{"ast":null,"code":"import{useSelector}from'react-redux';import{format}from'date-fns';import'./VisitHistory.css';import MapWithAdvancedMarker from'./MyMapComponent';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VisitHistory=()=>{const visitHistory=useSelector(state=>state.user.visitHistory);const apiKey=process.env.REACT_APP_GOOGLE_MAP_KEY;if(!visitHistory||visitHistory.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"visit-history\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Visit History\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No visits recorded yet.\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"visit-history\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Visit History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"visits-list\",children:visitHistory.map((visit,index)=>{var _visit$location,_visit$location2,_visit$location3,_visit$location4,_visit$location5,_visit$location6,_visit$location7;return/*#__PURE__*/_jsxs(\"div\",{className:\"visit-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"visit-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"visit-number\",children:[\"Visit #\",visitHistory.length-index]}),/*#__PURE__*/_jsx(\"span\",{className:\"visit-time\",children:format(new Date(visit.timestamp),'MMM dd, yyyy - HH:mm')})]}),((_visit$location=visit.location)===null||_visit$location===void 0?void 0:_visit$location.lat)&&((_visit$location2=visit.location)===null||_visit$location2===void 0?void 0:_visit$location2.lon)&&/*#__PURE__*/_jsxs(\"div\",{className:\"Google-Map\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0'},children:\"User Location\"}),/*#__PURE__*/_jsx(MapWithAdvancedMarker,{lat:visit.location.lat,lng:visit.location.lon,apiKey:apiKey})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"visit-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"location-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",((_visit$location3=visit.location)===null||_visit$location3===void 0?void 0:_visit$location3.city)||'Unknown',\", \",((_visit$location4=visit.location)===null||_visit$location4===void 0?void 0:_visit$location4.region)||'Unknown',\", \",((_visit$location5=visit.location)===null||_visit$location5===void 0?void 0:_visit$location5.country)||'Unknown']}),((_visit$location6=visit.location)===null||_visit$location6===void 0?void 0:_visit$location6.lat)&&((_visit$location7=visit.location)===null||_visit$location7===void 0?void 0:_visit$location7.lon)&&/*#__PURE__*/_jsxs(\"div\",{className:\"coordinates\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Coordinates:\"}),\" \",visit.location.lat.toFixed(4),\", \",visit.location.lon.toFixed(4)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ip-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"IP Address:\"}),\" \",visit.ip]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-agent\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Browser:\"}),\" \",visit.userAgent]})]})]},visit._id||index);})})]});};export default VisitHistory;","map":{"version":3,"names":["useSelector","format","MapWithAdvancedMarker","jsx","_jsx","jsxs","_jsxs","VisitHistory","visitHistory","state","user","apiKey","process","env","REACT_APP_GOOGLE_MAP_KEY","length","className","children","map","visit","index","_visit$location","_visit$location2","_visit$location3","_visit$location4","_visit$location5","_visit$location6","_visit$location7","Date","timestamp","location","lat","lon","style","margin","lng","city","region","country","toFixed","ip","userAgent","_id"],"sources":["C:/Users/rajub/OneDrive/Documents/Projects/frontend/src/Components/VisitHistory.js"],"sourcesContent":["import { useSelector } from 'react-redux';\r\nimport { format } from 'date-fns';\r\nimport './VisitHistory.css'\r\nimport MapWithAdvancedMarker from './MyMapComponent';\r\n\r\nconst VisitHistory = () => {\r\n  const visitHistory = useSelector((state) => state.user.visitHistory);\r\n  const apiKey = process.env.REACT_APP_GOOGLE_MAP_KEY;\r\n  if (!visitHistory || visitHistory.length === 0) {\r\n    return (\r\n      <div className=\"visit-history\">\r\n        <h3>Visit History</h3>\r\n        <p>No visits recorded yet.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"visit-history\">\r\n      <h3>Visit History</h3>\r\n      <div className=\"visits-list\">\r\n        {visitHistory.map((visit, index) => (\r\n          <div key={visit._id || index} className=\"visit-item\">\r\n            <div className=\"visit-header\">\r\n              <h2 className=\"visit-number\">Visit #{visitHistory.length - index}</h2>\r\n              <span className=\"visit-time\">\r\n                {format(new Date(visit.timestamp), 'MMM dd, yyyy - HH:mm')}\r\n              </span>\r\n            </div>\r\n            {visit.location?.lat && visit.location?.lon && (\r\n              <div className='Google-Map'>\r\n                <h3 style={{margin:'0'}}>User Location</h3>\r\n                <MapWithAdvancedMarker lat={visit.location.lat} lng={visit.location.lon} apiKey={apiKey} />\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"visit-details\">\r\n              <div className=\"location-info\">\r\n                <strong>Location:</strong> {visit.location?.city || 'Unknown'}, {visit.location?.region || 'Unknown'}, {visit.location?.country || 'Unknown'}\r\n              </div>\r\n\r\n              {visit.location?.lat && visit.location?.lon && (\r\n                <div className=\"coordinates\">\r\n                  <strong>Coordinates:</strong> {visit.location.lat.toFixed(4)}, {visit.location.lon.toFixed(4)}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"ip-info\">\r\n                <strong>IP Address:</strong> {visit.ip}\r\n              </div>\r\n\r\n              <div className=\"user-agent\">\r\n                <strong>Browser:</strong> {visit.userAgent}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VisitHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}